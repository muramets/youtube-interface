/**
 * =============================================================================
 * BADGE COMPONENT
 * =============================================================================
 * 
 * –ú–∞–ª–µ–Ω—å–∫–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
 * 
 * –í–ê–ñ–ù–û –î–õ–Ø –î–†–£–ì–ò–• –ê–ì–ï–ù–¢–û–í:
 * –ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –º–µ—Ç–æ–∫!
 * 
 *   import { Badge } from '@/components/ui/atoms/Badge';
 *   <Badge variant="success">Active</Badge>
 * 
 * =============================================================================
 * 
 * üé® –í–ê–†–ò–ê–ù–¢–´ (variant prop):
 * 
 * 1. "success" ‚Äî –ó–µ–ª—ë–Ω—ã–π. –ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è "Active", "Online", "Completed"
 * 2. "warning" ‚Äî –ñ—ë–ª—Ç—ã–π. –ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è "Pending", "Draft"
 * 3. "error"   ‚Äî –ö—Ä–∞—Å–Ω—ã–π. –ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è "Error", "Failed", "Offline"
 * 4. "info"    ‚Äî –°–∏–Ω–∏–π. –ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è "New", "Beta", –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
 * 5. "neutral" ‚Äî –°–µ—Ä—ã–π. –ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –º–µ—Ç–æ–∫ –±–µ–∑ –∞–∫—Ü–µ–Ω—Ç–∞
 * 
 * =============================================================================
 */

import React from 'react';

// -----------------------------------------------------------------------------
// –¢–ò–ü–´
// -----------------------------------------------------------------------------

/**
 * –í–∞—Ä–∏–∞–Ω—Ç—ã —Å—Ç–∏–ª–µ–π –±–µ–π–¥–∂–∞.
 */
type BadgeVariant = 'success' | 'warning' | 'error' | 'info' | 'neutral';

/**
 * –ü—Ä–æ–ø—Å—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Badge.
 */
interface BadgeProps {
    /**
     * –í–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –±–µ–π–¥–∂–∞.
     * @default "neutral"
     */
    variant?: BadgeVariant;

    /**
     * –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ CSS-–∫–ª–∞—Å—Å—ã.
     */
    className?: string;

    /**
     * –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –±–µ–π–¥–∂–∞ (—Ç–µ–∫—Å—Ç).
     */
    children: React.ReactNode;
}

// -----------------------------------------------------------------------------
// –°–¢–ò–õ–ò
// -----------------------------------------------------------------------------

/**
 * –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è –≤—Å–µ—Ö –±–µ–π–¥–∂–µ–π.
 */
const baseStyles = `
    inline-flex items-center
    px-1 py-0.5
    text-[9px] font-bold uppercase tracking-wider
    rounded
`;

/**
 * –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞.
 * 
 * –§–æ—Ä–º–∞—Ç: —Ñ–æ–Ω —Å –Ω–∏–∑–∫–æ–π opacity + —è—Ä–∫–∏–π —Ç–µ–∫—Å—Ç
 * –≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–π, –Ω–µ–Ω–∞–≤—è–∑—á–∏–≤—ã–π –≤–∏–¥.
 */
const variantStyles: Record<BadgeVariant, string> = {
    /**
     * SUCCESS ‚Äî –ó–µ–ª—ë–Ω—ã–π
     * –ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è "Active", "Online", "Success", "Completed"
     */
    success: 'bg-green-500/20 text-green-400',

    /**
     * WARNING ‚Äî –ñ—ë–ª—Ç—ã–π/–û—Ä–∞–Ω–∂–µ–≤—ã–π
     * –ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è "Pending", "Draft", –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
     */
    warning: 'bg-yellow-500/20 text-yellow-400',

    /**
     * ERROR ‚Äî –ö—Ä–∞—Å–Ω—ã–π
     * –ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è "Error", "Failed", "Offline"
     */
    error: 'bg-red-500/20 text-red-400',

    /**
     * INFO ‚Äî –°–∏–Ω–∏–π
     * –ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è "New", "Beta", –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
     */
    info: 'bg-blue-500/20 text-blue-400',

    /**
     * NEUTRAL ‚Äî –°–µ—Ä—ã–π
     * –ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –º–µ—Ç–æ–∫ –±–µ–∑ –æ—Å–æ–±–æ–≥–æ –∞–∫—Ü–µ–Ω—Ç–∞
     */
    neutral: 'bg-text-secondary/20 text-text-secondary',
};

// -----------------------------------------------------------------------------
// –ö–û–ú–ü–û–ù–ï–ù–¢
// -----------------------------------------------------------------------------

/**
 * –ë–µ–π–¥–∂ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
 * 
 * @example
 * // –ê–∫—Ç–∏–≤–Ω—ã–π —Å—Ç–∞—Ç—É—Å
 * <Badge variant="success">Active</Badge>
 * 
 * @example
 * // –ß–µ—Ä–Ω–æ–≤–∏–∫
 * <Badge variant="warning">Draft</Badge>
 * 
 * @example
 * // –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
 * <Badge variant="info">New</Badge>
 */
export const Badge: React.FC<BadgeProps> = ({
    variant = 'neutral',
    className = '',
    children,
}) => {
    const classes = [
        baseStyles,
        variantStyles[variant],
        className,
    ].join(' ').replace(/\s+/g, ' ').trim();

    return (
        <span className={classes}>
            {children}
        </span>
    );
};

// –≠–∫—Å–ø–æ—Ä—Ç —Ç–∏–ø–æ–≤
export type { BadgeProps, BadgeVariant };
